# go-di
Dependency Injection examples (manual, wire, dig)

Давайте создадим проект, демонстрирующий Dependency Injection в Go. Полный код доступен здесь: [GitHub Repository](https://github.com/yourusername/di-example-go)

### Структура проекта:
```
di-example/
├── manual/
│   ├── service.go
│   └── main.go
├── wire/
│   ├── service.go
│   ├── wire.go
│   └── main.go
├── dig/
│   ├── service.go
│   └── main.go
└── go.mod
```

## 1. Ручная реализация DI

**Преимущества:**
- Полный контроль над созданием объектов
- Нет внешних зависимостей
- Простота для маленьких проектов

**Недостатки:**
- Громоздкость при росте числа зависимостей
- Сложность управления жизненным циклом

## 2. Использование Google Wire

Установите Wire:
```bash
go install github.com/google/wire/cmd/wire@latest
```

**Особенности Wire:**
- Генерация кода во время компиляции
- Проверка зависимостей на этапе сборки
- Явное объявление провайдеров

## 3. Использование Dig

Установите Dig:
```bash
go get go.uber.org/dig
```


**Особенности Dig:**
- Рефлексия в runtime
- Динамическое разрешение зависимостей
- Поддержка сложных сценариев внедрения

## Сравнение подходов

| Критерий          | Ручной DI | Google Wire | Uber Dig |
|--------------------|-----------|-------------|----------|
| Скорость           | Высокая   | Высокая     | Средняя  |
| Безопасность типов | Да        | Да          | Нет      |
| Сложность настройки| Низкая    | Средняя     | Высокая  |
| Гибкость          | Высокая   | Средняя     | Высокая  |
| Время выполнения  | Компиляция | Компиляция | Runtime  |

## Лучшие практики

1. Используйте ручной DI для небольших проектов
2. Выбирайте Wire для сложных приложений с требованием к безопасности типов
3. Рассматривайте Dig для плагинных архитектур и динамического внедрения
4. Всегда выделяйте интерфейсы для зависимостей
5. Избегайте циклических зависимостей
6. Используйте DI для тестирования